<!-- https://gabriellapywong.github.io/FIT3179-DV2/ -->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Australia Medicare & Population — DV2</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

<style>
  :root{
    --gap: 1rem;
    --radius: 16px;
    --pad: 1rem;
    --card-bg: rgba(219, 231, 231, 0.462);
    --card-border: 1px solid rgb(126, 146, 146);
    --shadow: 0 6px 18px rgba(0,0,0,.1);
  }

  * { box-sizing: border-box; }
  body {
    background-color:rgb(255, 245, 231);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }

  /* Vertical container with fixed 15px horizontal padding */
  .page {
    width: 100%;
    margin: 20px auto;
    padding-left: 50px;
    padding-right: 50px;
    display: flex;
    flex-direction: column;
    gap: calc(var(--gap) * 1.25);
  }

  h1 {
    font-size: 32px;
    margin-bottom: 0px;
  }
  .desc {
    font-size: 18px;
    margin-top: 0px;
  }

  /* Each horizontal container (row) */
  .row{
    display: grid;
    grid-template-columns: 65% 35%;
    gap: var(--gap);
    align-items: stretch;
    margin-top: 20px;
  }

  /* Cards */
  .card{
    background: var(--card-bg);
    border: var(--card-border);
    border-radius: var(--radius);
    padding: var(--pad);
    box-shadow: var(--shadow);
    justify-content: center;
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: .5rem;
  }

.card-content{
  padding: var(--pad);
  display: flex;
  flex-direction: column;
  gap: .5rem;
  justify-content: center;
  align-items: flex-start;  
  height: auto;             
}

.instruction{
  background: rgb(252, 245, 236);
  border: var(--card-border);
  border-radius: var(--radius);
  padding: 0;
  box-shadow: var(--shadow);

  display: inline-block;     
  width: fit-content;        
  max-width: 100%;        
  margin: 0;
  height: auto;             
}

.card-content, .card{ width:100%; }        /* fill grid column */
.chart, .card canvas, .card svg{
  width:100% !important;    /* chart scales to card */
  height:auto;
  display:block;
}

.card-content p{
  margin: 0 0 .6rem;      /* bottom gap only, smaller */
}
.card-content p:last-child{
  margin-bottom: 0;       /* no extra gap after the last one */
}

  /* Responsive: stack on small screens */
  @media (max-width: 800px){
    .row{ grid-template-columns: 1fr; }
  }

/* Info panel base */
.info-panel{
  --panel-bg: rgb(255, 251, 246);          /* soft info background */
  --panel-accent: rgb(255, 162, 41);      /* accent blue */
  --panel-text: rgb(70, 44, 10);

  background: var(--panel-bg);
  color: var(--panel-text);
  border-radius: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  padding: 1rem 1.25rem 1rem 1rem;
  display: grid;
  grid-template-columns: auto 1fr;
  gap: .75rem 1rem;
  align-items: start;
  width: fit-content;        /* shrink to content */
  max-width: 100%;           /* don’t overflow column */
  border: 1px solid rgba(49,28,0,.15);
  position: relative;
}

/* Accent strip on the left */
.info-panel::before{
  content: "";
  position: absolute;
  left: -0.5rem;
  top: .75rem;
  bottom: .75rem;
  width: 6px;
  border-radius: 6px;
  background: var(--panel-accent);
}

/* Icon circle */
.info-panel .icon{
  width: 28px; height: 28px;
  border-radius: 50%;
  display: grid; place-items: center;
  background: rgb(255, 232, 201);
  color: var(--panel-accent);
  font-weight: 700;
  line-height: 1;
}

/* Title + body */
.info-panel .title{
  margin: 0; font-size: 0.95rem; font-weight: 700;
}
.info-panel .body{
  grid-column: 2;             /* align with text area under title */
  margin: 0; line-height: 1.55;
}


</style>
</head>
<body>

  <main class="page">
    <h1>Medicare Usage & Funding Across Australia</h1>
    <p class="desc">This dashboard explores how Australians use Medicare services over time and across states. We combine two datasets: 
        population by state and Medicare Benefits Schedule (MBS) claims (services, government benefits paid, and bulk-billing rates). “Bulk-billing” means the provider accepts the Medicare rebate as full payment so the patient pays $0 out-of-pocket.</p>
  
<!--     
    <section class="row">
      <div class="left">
        <article class="card">
            <h1>Medicare Usage & Funding Across Australia</h1>
            <p class="desc">This dashboard explores how Australians use Medicare services over time and across states. 
                We combine two datasets: population by state and Medicare Benefits Schedule (MBS) claims (services, government 
                benefits paid, and bulk-billing rates). “Bulk-billing” means the provider accepts the Medicare rebate as full 
                payment so the patient pays $0 out-of-pocket.
            </p>
  
        </article>

      </div>

      <aside class="right">
        <div class="card">
          <h3>KPI</h3>

        </div>
      </aside>
    </section> -->


    <!-- Row 1 -->
    <section class="row">
        <div class="card">
            <div id="map" class="chart"></div>
        </div>

        <article class="card-content">
            <p>
            The map shows that the <b>Northern Territory (NT)</b> consistently recorded the <b>highest MBS bulk-billing rate</b> 
            across the past decade, and in this period remains the only state above <b>80%</b>, at <b>83.5%</b>. Interestingly, 
            it also has the <b>smallest population</b> in Australia. In contrast, the <b>Australian Capital Territory (ACT)</b> 
            recorded the <b>lowest rate</b> at <b>65.5%</b>, despite being the <b>second least populated</b> state.
        </p>
        <p>
            The remaining states fall within a relatively narrow range of <b>72%–77%</b>, and the overall <b>ranking of states</b> 
            by bulk-billing rate has stayed largely <b>stable over the past ten years</b>. This pattern suggests that bulk-billing rates 
            may be influenced more by <b>population distribution and land size</b> than by population count alone.
        </p>

        <div class="info-panel" role="note" aria-label="Map explanation">
        <div class="icon">i</div>
        <h4 class="title">How to read</h4>
        <p class="body">
            The map shades each state by <strong>total population</strong> in the selected quarter. Labels show the <strong>MBS bulk-billing rate</strong> 
            (share of services <em>fully bulk-billed</em>). Use this to spot differences between <strong>population concentration</strong> and <strong>coverage</strong>.
        </p>
        </div>

        </article>
      </aside>
    </section>


    <!-- Row 2 -->
    <section class="row">
        <div class="card">
            <div id="stacked" class="chart"></div>
        </div>

        <article class="card-content">
            <p>
                Across all states, <strong>Total GP Non-Referred Attendances</strong> consistently make up the largest share of services (around <strong>37–42%</strong>), 
                reflecting their role as the most <strong>common</strong> and <strong>general</strong> type of Medicare service. This is followed by <strong>Diagnostic Imaging</strong> 
                and <strong>Practice Nurse</strong> services.
            </p>
            
            <p>
                When viewed by <strong>Benefits ($)</strong> — representing <em>government expenditure</em> or <em>rebate payments</em> for each service — GPs still account for roughly 
                <strong>40%</strong> of total benefits. However, the <strong>Practice Nurse</strong> share drops to below <strong>0.5%</strong>, while other <em>higher-cost services</em> 
                contribute more significantly. This difference reflects variation in <strong>unit cost per service</strong>, as specialist or imaging services tend to attract higher benefit 
                payments.
            </p>
            
            <p>
                Overall, <strong>attendance volume</strong> and <strong>benefits</strong> are <em>positively correlated</em>, with states like <strong>New South Wales</strong> 
                showing the highest totals in both measures. The composition pattern remains <strong>consistent</strong> across states, indicating a <em>stable national distribution</em> 
                of Medicare service types.
            </p>

        <div class="info-panel" role="note" aria-label="Map explanation">
            <div class="icon">i</div>
            <h4 class="title">How to read</h4>
            <p class="body">
                Each bar shows one state and totals <strong>100%</strong> for the selected quarter. Segment sizes represent the 
                <strong>share of service types</strong> such as GP attendances, diagnostic imaging, and pathology. The <em>Metric</em> 
                control switches between <strong>Attendance</strong> (share of total services) and <strong>Benefits ($)</strong> 
                (share of government payments). Hover over a segment to view the <strong>state, quarter, value,</strong> and <strong>percentage</strong>.
            </p>
        </div>

        </article>
      </aside>
    </section>

    <!-- Row 3 -->
    <section class="row">
        <div class="card">
            <div id="trend" class="chart"></div>
        </div>

        <article class="card-content">
            <p>
                Over time, most <strong>service types</strong> have shown relatively <strong>stable bulk-billing rates</strong>, with <strong>Total GP Non-Referred Attendances</strong> 
                and <strong>Optometry</strong> remaining the highest—close to <strong>100%</strong> and <strong>95%</strong> respectively. <strong>Diagnostic Imaging</strong> 
                and <strong>Practice Nurse</strong> services also maintain consistently high rates, while <strong>Other Allied Health</strong> and <strong>Obstetrics</strong> 
                have gradually declined since <em>2021</em>. 
            </p>
            <p>
                Overall, the trends indicate that bulk-billing remains <strong>widespread</strong> across service types, though certain 
                categories with higher costs or specialized procedures show a <strong>slower or decreasing uptake</strong>.
            </p>


        <div class="info-panel" role="note" aria-label="Map explanation">
            <div class="icon">i</div>
            <h4 class="title">How to read</h4>
            <p class="body">
                Lines show the <strong>MBS bulk-billing rate</strong> by service type across quarters. Select a <strong>state</strong> 
                (default: <em>Australia</em>) to compare how coverage has changed over time. The rate equals <strong>bulk-billed services ÷ total services</strong> 
                for each type and quarter, with smooth curves highlighting <em>long-term trends</em>.
            </p>
        </div>

        </article>
      </aside>
    </section>

  </main>

<script>
    const MAP_SPEC_URL     = "https://raw.githubusercontent.com/gabriellapywong/FIT3179-DV2/main/js/map_final.vg.json";
    const STACKED_SPEC_URL = "https://raw.githubusercontent.com/gabriellapywong/FIT3179-DV2/main/js/stack_bar.vg.json";
    const TREND_SPEC_URL   = "https://raw.githubusercontent.com/gabriellapywong/FIT3179-DV2/main/js/trend.vg.json";

    vegaEmbed("#map", MAP_SPEC_URL,     {actions:false});
    vegaEmbed("#stacked", STACKED_SPEC_URL, {actions:false});
    vegaEmbed("#trend", TREND_SPEC_URL,   {actions:false});

</script>
</body>
</html>
