<!-- https://gabriellapywong.github.io/FIT3179-DV2/ -->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Australia Medicare & Population — DV2</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/gabriellapywong/FIT3179-DV2@main/css/style.css">
<!-- <style>
    * { 
        margin: 0px;
        padding: 0px;
        box-sizing: border-box;
        font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
        color:#0f172a;
    }
    header{ max-width:1100px; margin:32px auto 8px; padding:0 16px; }

    h1{ font-size:28px; margin-bottom:6px; }
    
    .lead{ margin-bottom:8px; }
    
    body{
        background-color:aliceblue;
    }

    .card-container{
        display: flex;
        align-items:center; justify-content:center;
        flex-wrap: wrap;
        margin-top: 25px;
        gap: 20px;
    }

    .card{
        --content-bg:rgb(252, 245, 236);  
        width:min(100%, var(--cardw));
        padding:14px;
        border:1px solid #e2e8f0;
        border-radius:14px;
        box-shadow:0 1px 2px rgba(0,0,0,.04);
        background:white;
        overflow:visible;             
    }

    .card-content{
        margin-top: 5px;
        padding:14px;
        background:var(--content-bg);
        border-top:1px solid rgba(255,255,255,.08);
        border-radius:14px;
    }

    .chart{
    display:flex;
    justify-content:center;      
    width:100%;
    }

    .chart .vega-embed,
    .chart .vega-embed > svg,
    .chart .vega-embed > canvas{
    width:100%;
    height:auto;
    }

</style> -->

</head>
<body>
    <header>
    <h1>Medicare Usage & Funding Across Australia</h1>
    <p class="lead">
        This dashboard explores how Australians use Medicare services over time and across states.
        We combine two datasets:
        <em>population</em> by state and <em>Medicare Benefits Schedule (MBS)</em> claims
        (services, government benefits paid, and bulk-billing rates).
        “Bulk-billing” means the provider accepts the Medicare rebate as full payment so
        the patient pays $0 out-of-pocket.
    </p>

    <div class = "card-container">
        <div class = "card">
            <div id="map" class="chart"></div>
            <div class = "card-content">
                <p>
                    <strong>State-by-State Population & Medicare Bulk-Billing</strong> —
                    The map shades each state by total population in the selected quarter.
                    The label on each state shows its <em>MBS bulk-billing rate</em> for
                    <em>Total Medicare</em> services (percentage of services that were fully bulk-billed).
                    Use this to spot where population concentration and coverage differ.
                </p>
            </div>
        </div>

        <div class = "card">
            <div id="stacked" class="chart"></div>
            <div class = "card-content">
                <p>
                    <strong>Service Composition by State (100% Stacked)</strong> —
                    For the selected quarter, each bar sums to 100% within a state.
                    Segment sizes show the share of <em>service types</em> (e.g., GP attendances,
                    diagnostic imaging, pathology, obstetrics, etc.).
                    The <em>Metric</em> control toggles the basis:
                    <em>Attendance</em> = share of the number of services; 
                    <em>Benefits ($)</em> = share of government <em>Benefits ($)</em> paid.
                    Hover to see the state, quarter, segment value, and its share.
                </p>

            </div>
        </div>
        
        <div class = "card">
            <div id="trend" class="chart"></div>
            <div class = "card-content">
                <p>
                    <strong>Bulk-Billing Rate over Time</strong> —
                    Lines show the MBS bulk-billing rate by service type across quarters.
                    Choose a state (default: Australia, the national total) to compare how coverage
                    has evolved. The rate is calculated as bulk-billed services divided by
                    total services for that type and quarter. The series are drawn with a monotone
                    curve to emphasize long-run trends.
                </p>

            </div>
        </div>
    </div>  
    </header>

<script>
    const MAP_SPEC_URL     = "https://raw.githubusercontent.com/gabriellapywong/FIT3179-DV2/main/js/map_final.vg.json";
    const STACKED_SPEC_URL = "https://raw.githubusercontent.com/gabriellapywong/FIT3179-DV2/main/js/stack_bar.vg.json";
    const TREND_SPEC_URL   = "https://raw.githubusercontent.com/gabriellapywong/FIT3179-DV2/main/js/trend.vg.json";

    vegaEmbed("#map", MAP_SPEC_URL,     {actions:false});
    vegaEmbed("#stacked", STACKED_SPEC_URL, {actions:false});
    vegaEmbed("#trend", TREND_SPEC_URL,   {actions:false});

</script>
</body>
</html>
